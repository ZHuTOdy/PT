// Generated by CoffeeScript 2.3.0
(function() {
  var init_list, month, name, payrollTable;

  month = new Vue({
    el: "#month",
    data: {
      month: ""
    },
    methods: {
      handleChange: function(month) {
        monthlyReport.$data.month = month;
        return init_list();
      }
    }
  });

  // handleChange: ()->
  //   init_list()
  name = new Vue({
    el: "#name",
    data: {
      username: "",
      nickname: ""
    },
    methods: {
      handleChange: function() {
        return init_list();
      }
    }
  });

  payrollTable = new Vue({
    el: "#payrollTable",
    data: {
      items: [],
      page: 0,
      pageSize: 10,
      total: 0,
      Selection: []
    },
    methods: {
      handleSizeChange: function(pageSize) {
        payrollTable.$data.pageSize = pageSize;
        return init_list();
      },
      handleCurrentChange: function(page) {
        payrollTable.$data.page = page;
        return init_list();
      },
      handleSelectionChange: function(val) {
        return this.Selection = val;
      }
    }
  });

  init_list = function() {
    var nickname, page, pageSize, username;
    page = payrollTable.$data.page;
    pageSize = payrollTable.$data.pageSize;
    month = monthlyReport.$data.month;
    username = name.$data.username;
    return nickname = name.$data.nickname;
  };

  // socket.emit "report.list", {"month":{$regex:month},"username" :{$regex:username},"nickname" :{$regex:nickname}},page, pageSize,  (res)->
  // 	return alert( res.err ) if res.err
  // 	Object.assign( payrollTable.$data, res ) 
  init_list();

}).call(this);
